{% extends 'layout/base.html' %}
{% load static %}
{% block content %}
        <!-- Start of Main -->
        <main class="main">
            <!-- Start of Breadcrumb -->
            <nav class="breadcrumb-nav">
                <div class="container">
                    <ul class="breadcrumb bb-no">
                        <li><a href="demo1.html">Home</a></li>
                        <li>Shop</li>
                    </ul>
                </div>
            </nav>
            <!-- End of Breadcrumb -->

            <!-- Start of Page Content -->
            <div class="page-content">
                <div class="container">
                    <!-- Start of Shop Banner -->
                    <div class="shop-default-banner banner d-flex align-items-center mb-5 br-xs"
                    style="background-image:url('{{product_category.banner.url}}'); height: 50vh;">
                        
                    </div>
                    <!-- End of Shop Banner -->

                    {% comment %} <div class="shop-default-brands mb-5">
                        <div class="brands-swiper swiper-container swiper-theme "
                            data-swiper-options="{
                                'slidesPerView': 2,
                                'breakpoints': {
                                    '576': {
                                        'slidesPerView': 3
                                    },
                                    '768': {
                                        'slidesPerView': 4
                                    },
                                    '992': {
                                        'slidesPerView': 6
                                    },
                                    '1200': {
                                        'slidesPerView': 7
                                    }
                                },
                                'autoplay': {
                                    'delay': 4000,
                                    'disableOnInteraction': false
                                }
                            }">
                            <div class="swiper-wrapper row gutter-no cols-xl-7 cols-lg-6 cols-md-4 cols-sm-3 cols-2">
                                <div class="swiper-slide">
                                    <figure>
                                        <img src="assets/images/brands/category/1.png" alt="Brand" width="160" height="90" />
                                    </figure>
                                </div>
                                <div class="swiper-slide">
                                    <figure>
                                        <img src="assets/images/brands/category/2.png" alt="Brand" width="160" height="90" />
                                    </figure>
                                </div>
                                <div class="swiper-slide">
                                    <figure>
                                        <img src="assets/images/brands/category/3.png" alt="Brand" width="160" height="90" />
                                    </figure>
                                </div>
                                <div class="swiper-slide">
                                    <figure>
                                        <img src="assets/images/brands/category/4.png" alt="Brand" width="160" height="90" />
                                    </figure>
                                </div>
                                <div class="swiper-slide">
                                    <figure>
                                        <img src="assets/images/brands/category/5.png" alt="Brand" width="160" height="90" />
                                    </figure>
                                </div>
                                <div class="swiper-slide">
                                    <figure>
                                        <img src="assets/images/brands/category/6.png" alt="Brand" width="160" height="90" />
                                    </figure>
                                </div>
                                <div class="swiper-slide">
                                    <figure>
                                        <img src="assets/images/brands/category/7.png" alt="Brand" width="160" height="90" />
                                    </figure>
                                </div>
                            </div>
                            <div class="swiper-pagination"></div>
                        </div>
                    </div> {% endcomment %}
                    <!-- End of Shop Brands-->

                    <!-- Start of Shop Category -->
                    <div class="shop-default-category category-ellipse-section mb-6">
                        <div class="swiper-container swiper-theme shadow-swiper"
                            data-swiper-options="{
                            'spaceBetween': 20,
                            'slidesPerView': 2,
                            'breakpoints': {
                                '480': {
                                    'slidesPerView': 3
                                },
                                '576': {
                                    'slidesPerView': 4
                                },
                                '768': {
                                    'slidesPerView': 6
                                },
                                '992': {
                                    'slidesPerView': 7
                                },
                                '1200': {
                                    'slidesPerView': 8,
                                    'spaceBetween': 30
                                }
                            }
                        }">
                            <div class="swiper-wrapper row gutter-lg cols-xl-8 cols-lg-7 cols-md-6 cols-sm-4 cols-xs-3 cols-2">
                                {% for category in category %}
                                    <div class="swiper-slide category-wrap">
                                        <div class="category category-ellipse">
                                            <figure class="category-media">
                                                <a href="{% url 'category_filter' category.slug %}">
                                                    <img src="{{category.image.url}}" alt="{{category.title}}"
                                                        width="190" height="190" style="background-color: #5C92C0;" />
                                                </a>
                                            </figure>
                                            <div class="category-content">
                                                <h4 class="category-name">
                                                    <a href="{% url 'category_filter' category.slug %}">{{category.title}}</a>
                                                </h4>
                                            </div>
                                        </div>
                                    </div>
                                {% endfor %}                                                                                                                   
                                           
                            </div>
                            <div class="swiper-pagination"></div>
                        </div>
                    </div>
                    <!-- End of Shop Category -->

                    <!-- Start of Shop Content -->
                    <div class="shop-content row gutter-lg mb-10">
                        <!-- Start of Sidebar, Shop Sidebar -->
                        <aside class="sidebar shop-sidebar sticky-sidebar-wrapper sidebar-fixed">
                            <!-- Start of Sidebar Overlay -->
                            <div class="sidebar-overlay"></div>
                            <a class="sidebar-close" href="#"><i class="close-icon"></i></a>

                            <!-- Start of Sidebar Content -->
                            <div class="sidebar-content scrollable">
                                <!-- Start of Sticky Sidebar -->
                                <div class="sticky-sidebar">
                                    <div class="filter-actions">
                                        <label>Filter :</label>
                                        {% comment %} <a href="#" class="btn btn-dark btn-link filter-clean">Clean All</a> {% endcomment %}
                                    </div>
                                    <!-- Start of Collapsible widget -->
                                    <div class="widget widget-collapsible">
                                        <h3 class="widget-title"><label>Selected Category</label></h3>
                                        <ul class="widget-body filter-items search-ul">
                                            <li id="product_category_filter">{{product_category.title}}</li>
                                            {% comment %} <li><a href="#">Babies</a></li>
                                            <li><a href="#">Beauty</a></li>
                                            <li><a href="#">Decoration</a></li>
                                            <li><a href="#">Electronics</a></li>
                                            <li><a href="#">Fashion</a></li>
                                            <li><a href="#">Food</a></li>
                                            <li><a href="#">Furniture</a></li>
                                            <li><a href="#">Kitchen</a></li>
                                            <li><a href="#">Medical</a></li>
                                            <li><a href="#">Sports</a></li>
                                            <li><a href="#">Watches</a></li> {% endcomment %}
                                        </ul>
                                    </div>
                                    <!-- End of Collapsible Widget -->

                                    <!-- Start of Collapsible Widget -->
                                    <div class="widget widget-collapsible">
                                        <h3 class="widget-title"><label>Price</label></h3>
                                        <div class="widget-body">
                                            <ul class="widget-body filter-items item-check mt-1">
                                            
                                                <li class="filter-checkbox" data-key="price" data-max-value = "500" data-min-value ="0"  price-data-status="inactive"><a href="#">TK 0 - TK 500</a></li>
                                                <li class="filter-checkbox" data-key="price" data-max-value = "1000" data-min-value ="500" price-data-status="inactive"><a href="#">TK 500 - TK 1000</a></li>
                                                <li class="filter-checkbox" data-key="price" data-max-value = "2000" data-min-value ="1000" price-data-status="inactive"><a href="#">TK 1000 - TK 2000</a></li>
                                                <li class="filter-checkbox" data-key="price" data-max-value = "4000" data-min-value ="2000" price-data-status="inactive"><a href="#">TK 2000 - TK 4000</a></li>
                                                <li class="filter-checkbox" data-key="price" data-max-value = "50000000" data-min-value ="5000" price-data-status="inactive"><a href="#">TK 5000+</a></li>
                                            </ul>
                                            {% comment %} <form class="price-range">
                                                <input type="number" name="min_price" class="min_price text-center"
                                                    placeholder="$min"><span class="delimiter">-</span><input
                                                    type="number" name="max_price" class="max_price text-center"
                                                    placeholder="$max"><a href="#"
                                                    class="btn btn-primary btn-rounded">Go</a>
                                            </form> {% endcomment %}
                                        </div>
                                    </div>
                                    <!-- End of Collapsible Widget -->

                                    <!-- Start of Collapsible Widget -->
                                    {% comment %} <div class="widget widget-collapsible">
                                        <h3 class="widget-title"><label>Size</label></h3>
                                        <ul class="widget-body filter-items item-check mt-1">
                                            <li><a href="#">Extra Large</a></li>
                                            <li><a href="#">Large</a></li>
                                            <li><a href="#">Medium</a></li>
                                            <li><a href="#">Small</a></li>
                                        </ul>
                                    </div> {% endcomment %}
                                    <!-- End of Collapsible Widget -->

                                    <!-- Start of Collapsible Widget -->
                                    <div class="widget widget-collapsible">
                                        <h3 class="widget-title"><label>Brand</label></h3>
                                        <ul class="widget-body filter-items item-check mt-1">
                                            {% for brand in brands %}
                                                <li class="filter-checkbox" data-key="brand" data-value={{brand.id}} brand-data-status="inactive"><a href="#">{{brand.title}}</a></li>
                                            {% endfor %}
                                           
                                        </ul>
                                    </div>
                                    <!-- End of Collapsible Widget -->

                                    <!-- Start of Collapsible Widget -->
                                    {% comment %} <div class="widget widget-collapsible">
                                        <h3 class="widget-title"><label>Color</label></h3>
                                        <ul class="widget-body filter-items item-check mt-1">
                                            <li><a href="#">Black</a></li>
                                            <li><a href="#">Blue</a></li>
                                            <li><a href="#">Brown</a></li>
                                            <li><a href="#">Green</a></li>
                                            <li><a href="#">Grey</a></li>
                                            <li><a href="#">Orange</a></li>
                                            <li><a href="#">Yellow</a></li>
                                        </ul>
                                    </div> {% endcomment %}
                                    <!-- End of Collapsible Widget -->
                                </div>
                                <!-- End of Sidebar Content -->
                            </div>
                            <!-- End of Sidebar Content -->
                        </aside>
                        <!-- End of Shop Sidebar -->

                        <!-- Start of Shop Main Content -->
                        <div class="main-content">
                           
                            <div class="product-wrapper row cols-md-3 cols-sm-2 cols-2" id="product_main_section">
                                {% for product in products %}
                                    
                                        <div class="product-wrap">
                                            <div class="product text-center">
                                                <figure class="product-media">
                                                    <a href="{% url 'product_details' product.slug %}">
                                                        <img src="{{product.image.url}}" alt="{{product.title}}" width="300"
                                                            height="338" />
                                                    </a>
                                                    {% comment %} <div class="product-action-horizontal">
                                                        <a href="#" class="btn-product-icon btn-cart w-icon-cart"
                                                            title="Add to cart"></a>
                                                        <a href="#" class="btn-product-icon btn-wishlist w-icon-heart"
                                                            title="Wishlist"></a>
                                                        <a href="#" class="btn-product-icon btn-compare w-icon-compare"
                                                            title="Compare"></a>
                                                        <a href="#" class="btn-product-icon btn-quickview w-icon-search"
                                                            title="Quick View"></a>
                                                    </div> {% endcomment %}
                                                </figure>
                                                <div class="product-details">
                                                    <div class="product-cat">
                                                        <a href="{% url 'category_filter' product_category.slug %}">{{product_category.title}}</a>
                                                    </div>
                                                    <h3 class="product-name">
                                                        <a href="{% url 'product_details' product.slug %}">{{product.title}}</a>
                                                    </h3>
                                                    {% comment %} <div class="ratings-container">
                                                        <div class="ratings-full">
                                                            <span class="ratings" style="width: 100%;"></span>
                                                            <span class="tooltiptext tooltip-top"></span>
                                                        </div>
                                                        <a href="product-default.html" class="rating-reviews">(3 reviews)</a>
                                                    </div> {% endcomment %}
                                                    <div class="product-pa-wrapper">
                                                        <div class="product-price">
                                                            BDT {{product.price | floatformat:0|cut:'.'}}
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                  
                                {% endfor %}                                                                                                                                                                                                                                               
                                
                            </div>

                            <div class="toolbox toolbox-pagination justify-content-between" id="pagination_box">
                                <p class="showing-info mb-2 mb-sm-0">
                                    {% if page_number %}
                                        Showing<span>{{page_number}} of {{number_of_pages}}</span>Pages
                                    {% else %}
                                        Showing<span>1 of {{number_of_pages}}</span>Pages
                                    {% endif %}
                                </p>
                                <ul class="pagination">
                                    {% if products.has_previous %}
                                        <li class="prev ">
                                            <a href="?page={{ products.previous_page_number }}" aria-label="Previous" tabindex="-1" aria-disabled="true">
                                                <i class="w-icon-long-arrow-left"></i>Prev
                                            </a>
                                        </li>
                                    {% endif %}

                                    {% if page_number %}
                                        {% for page in page_list %}
                                            <li {% if page == page_number %} class="page-item active" {else} class="page-item" {% endif %} >
                                                <a class="page-link" href="?page={{page}}" >{{page}}</a>
                                            </li>
                                        {% endfor %}
                                    {% else %}

                                        {% for page in page_list %}
                                            <li {% if page == 1 %} class="page-item active" {else} class="page-item" {% endif %} >
                                                <a class="page-link" href="?page={{page}}" >{{page}}</a>
                                            </li>
                                        {% endfor %}

                                    {% endif %}
                                    
                                  

                                    {% comment %} <li {% if page_number == '2' %}class="page-item active" {else} class="page-item" {% endif %}>
                                        <a class="page-link" href="?page=2">2</a>
                                    </li> {% endcomment %}
                                    {% if products.has_next %}
                                        <li class="next">
                                            <a href="?page={{ products.next_page_number }}" aria-label="Next">
                                                Next<i class="w-icon-long-arrow-right"></i>
                                            </a>
                                        </li>
                                    {% endif %}
                                </ul>
                            </div>
                            
                        </div>
                        <!-- End of Shop Main Content -->
                    </div>
                    <!-- End of Shop Content -->
                </div>
            </div>
            <!-- End of Page Content -->
           
        </main>
        <!-- For receiving the value of number of products per page -->

        <input type="hidden" data-limit="{{products_per_page}}" id="products_per_page">

        <!-- End of Main -->

{% endblock %}      